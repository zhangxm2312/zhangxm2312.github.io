/*!
  * Simple-Jekyll-Search
  * Copyright 2015-2020, Christian Fei
  * Licensed under the MIT License.
  */
!function(){"use strict";var t={compile:function t(n){return e.template.replace(e.pattern,function(t,r){let i=e.middleware(r,n[r],e.template);return void 0!==i?i:n[r]||t})},setOptions:function t(n){e.pattern=n.pattern||e.pattern,e.template=n.template||e.template,"function"==typeof n.middleware&&(e.middleware=n.middleware)}};let e={};e.pattern=/\{(.*?)\}/g,e.template="",e.middleware=function(){};var n=function t(e,n){var r=n.length,i=e.length;if(i>r)return!1;if(i===r)return e===n;outer:for(var o=0,u=0;o<i;o++){for(var l=e.charCodeAt(o);u<r;)if(n.charCodeAt(u++)===l)continue outer;return!1}return!0},r=new function t(){this.matches=function(t,e){return n(e.toLowerCase(),t.toLowerCase())}},i=new function t(){this.matches=function(t,e){return!!t&&(t=t.toLowerCase(),e=e.toLowerCase(),t.indexOf(e)>=0)}},o={put:function t(e){var n;return a(e)?f(e):(n=e,Boolean(n)&&"[object Array]"===Object.prototype.toString.call(n))?function t(e){let n=[];s();for(let r=0,i=e.length;r<i;r++)a(e[r])&&n.push(f(e[r]));return n}(e):void 0},clear:s,search:function t(e){return e?(function t(e,n,r,i){let o=[];for(let u=0;u<e.length&&o.length<i.limit;u++){let l=d(e[u],n,r,i);l&&o.push(l)}return o})(l,e,c.searchStrategy,c).sort(c.sort):[]},setOptions:function t(e){(c=e||{}).fuzzy=e.fuzzy||!1,c.limit=e.limit||10,c.searchStrategy=e.fuzzy?r:i,c.sort=e.sort||u,c.exclude=e.exclude||[]}};function u(){return 0}let l=[],c={};function s(){return l.length=0,l}function a(t){return Boolean(t)&&"[object Object]"===Object.prototype.toString.call(t)}function f(t){return l.push(t),l}function d(t,e,n,r){for(let i in t)if("url"!=i&&"categories"!=i&&!p(t[i],r.exclude)&&n.matches(t[i],e))return t}function p(t,e){for(let n=0,r=e.length;n<r;n++){let i=e[n];if(RegExp(i).test(t))return!0}return!1}c.fuzzy=!1,c.limit=10,c.searchStrategy=c.fuzzy?r:i,c.sort=u,c.exclude=[];var h={load:function t(e,n){var r,i;let o=window.XMLHttpRequest?new window.XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");o.open("GET",e,!0),o.onreadystatechange=(r=o,i=n,function(){if(4===r.readyState&&200===r.status)try{i(null,JSON.parse(r.responseText))}catch(t){i(t,null)}}),o.send()}},m=function t(e){var n;if(n=e,!n||void 0===n.required||!(n.required instanceof Array))throw Error("-- OptionsValidator: required options missing");if(!(this instanceof t))return new t(e);let r=e.required;this.getRequiredOptions=function(){return r},this.validate=function(t){let e=[];return r.forEach(function(n){void 0===t[n]&&e.push(n)}),e}},$={merge:function t(e,n){let r={};for(let i in e)r[i]=e[i],void 0!==n[i]&&(r[i]=n[i]);return r},isJSON:function t(e){try{if(e instanceof Object&&JSON.parse(JSON.stringify(e)))return!0;return!1}catch(n){return!1}}};!function(e){let n={searchInput:null,resultsContainer:null,json:[],success:Function.prototype,searchResultTemplate:'<li><a href="{url}" title="{desc}">{title}</a></li>',templateMiddleware:Function.prototype,sortMiddleware:function(){return 0},noResultsText:"No results found",limit:10,fuzzy:!1,debounceTime:null,exclude:[]},r,i=function(t,e){e?(clearTimeout(r),r=setTimeout(t,e)):t.call()},u=["searchInput","resultsContainer","json"],l=m({required:u});function c(t){o.put(t),n.searchInput.addEventListener("input",function(t){var e;e=t.which,-1===[13,16,20,37,38,39,40,91].indexOf(e)&&(s(),i(function(){f(t.target.value)},n.debounceTime))})}function s(){n.resultsContainer.innerHTML=""}function a(t){n.resultsContainer.innerHTML+=t}function f(e){var r;r=e,r&&r.length>0&&(s(),function e(r,i){let o=r.length;if(0===o)return a(n.noResultsText);for(let u=0;u<o;u++)r[u].query=i,a(t.compile(r[u]))}(o.search(e),e))}function d(t){throw Error("SimpleJekyllSearch --- "+t)}e.SimpleJekyllSearch=function(e){var r;let i=l.validate(e);i.length>0&&d("You must specify the following required options: "+u),n=$.merge(n,e),t.setOptions({template:n.searchResultTemplate,middleware:n.templateMiddleware}),o.setOptions({fuzzy:n.fuzzy,limit:n.limit,sort:n.sortMiddleware,exclude:n.exclude}),$.isJSON(n.json)?c(n.json):(r=n.json,h.load(r,function(t,e){t&&d("failed to get JSON ("+r+")"),c(e)}));let s={search:f};return"function"==typeof n.success&&n.success.call(s),s}}(window)}();